<!DOCTYPE HTML>
<html>
  <head>
    <title>Length measure testing</title>

  <!-- font -->
  <link href='//fonts.googleapis.com/css?family=Raleway:400,300,600' rel='stylesheet' type='text/css'>

  <!-- css libraries -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.min.css">
  <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">

  <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.5/leaflet.css">
  <link rel="stylesheet" href="/css/stop.css">
  
  <!-- js toolset -->
  <script src="http://cdn.leafletjs.com/leaflet-0.7.5/leaflet.js"></script>

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

  <script src="js/stops.js"></script>
  
  </head>

  <style>
  </style>
  
  <body>

    <div class="ajax" style="display: none;">
      <img src="imgs/loader.gif" style="height: 1em">
      <sup><sub>Running Query...</sub></sup>
    </div>

    <div class="container">
      <small style="opacity: 0.25">
        <span style="color: red">
          <strong>Warning!</strong>
        </span>
        Only tested in <a href="https://www.google.com/chrome/">Chrome</a>. Some elements known to not be supported in FF 10+ and IE.
      </small>

      <h3>
        Simple Stop Analysis Example
      </h3>

      <div class="row">
        <div id="map">
        </div>
      </div>

      <div class="row">
        <h5>
          Customization Options
          <div class="row u-pull-right">
            <button onclick="toggleStops()">
              Toggle All Stops
            </button>
            <button class="button-primary" onclick="query()">
              re/run
            </button>
          </div>
        </h5>
      </div>

      <div class="row">
        <div class="four columns">
          Early Categories
        </div>
        <div class="two columns">
          <input type="checkbox"> <span class="label-body">All</span>
        </div>
        <div class="one-half column">
          <input type="checkbox"> <span class="label-body">5 min</span>
          <input type="checkbox"> <span class="label-body">2 min</span>
        </div>
      </div>

      <div class="row">
        <div class="four columns">
          Late Categories
        </div>
        <div class="two columns">
          <input type="checkbox"> <span class="label-body">All</span>
        </div>
        <div class="one-half column">
          <input type="checkbox"> <span class="label-body">10 min</span>
          <input type="checkbox"> <span class="label-body">15 min</span>
          <input type="checkbox"> <span class="label-body">20 min</span>
          <input type="checkbox"> <span class="label-body">30 min</span>
        </div>
      </div>

      <div class="row">
        <div class="one-half column">
          <p>Date and hour for analysis</p>
        </div>
        <div class="three columns">
          <input class="u-full-width" type="date" id="param_date" min="2014-08-02" value="2015-10-20">
        </div>
        <div class="three columns">
          <input class="u-full-width" type="time" id="param_hour" value="19:00">
        </div>
      </div>

      <div class="row">
        <div class="one-half column">
          Headway threshold
          (set minute headways)
        </div>
        <div class="one-half column">
          <input class="u-full-width" type="range" id="param_headway" min="0" max="10">
        </div>
      </div>

    </div>

  </body>

  <script type="text/javascript">

    // Initialization
    var map = new L.map('map', {
      center: new L.LatLng(40.735406, -73.952352),
      zoom: 12,
      layers: []
    });

    L.tileLayer('http://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png').addTo(map);

    toggleLoad("on");
    $.getJSON("api/stops")
      .error(function (err) {
        console.log("Failed to retrieve stops data: ", err);
      })
      .success(function (res) {
        plotStops(res);
        toggleLoad("off");
      })

    map.on("moveend", function(){ redrawStops(); });


  </script>

</html>




